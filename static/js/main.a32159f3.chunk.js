(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{19:function(e,t,n){e.exports=n(36)},24:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),o=n.n(c),s=n(11),p=n(12),l=n(17),u=n(18),i=(n(24),n(4)),d=n(14),E=n.n(d),h=n(1),m=n(15),f=n.n(m);function T(e){return{type:"CHANGE_LOCATION",location:e}}function g(e){return{type:"SET_SELECTED_DATE",date:e}}function S(e){return{type:"SET_SELECTED_TEMP",temp:e}}function y(e){return function(t){f()({url:e},(function(e,n){console.log(n);for(var a=JSON.parse(n.body),r=a.list,c=[],o=[],s=0;s<r.length;s++)c.push(r[s].dt_txt),o.push(r[s].main.temp);t(function(e){return{type:"SET_DATA",data:e}}(a)),t(function(e){return{type:"SET_DATES",dates:e}}(c)),t(function(e){return{type:"SET_TEMPS",temps:e}}(o)),t(g("")),t(S(null))}))}}var C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).fetchData=function(t){t.preventDefault();var n="http://api.openweathermap.org/data/2.5/forecast?q="+encodeURIComponent(e.props.redux.get("location"))+"&APPID=448fecc9c76929751cc27c9ae298fde6&units=metric";e.props.dispatch(y(n))},e.onPlotClick=function(t){if(t.points){var n=t.points[0].pointNumber;e.props.dispatch(g(e.props.redux.getIn(["dates",n]))),e.props.dispatch(S(e.props.redux.getIn(["temps",n])))}},e.changeLocation=function(t){e.props.dispatch(T(t.target.value))},e}return Object(p.a)(n,[{key:"render",value:function(){var e="not loaded yet";return this.props.redux.getIn(["data","list"])&&(e=this.props.redux.getIn(["data","list","0","main","temp"])),r.a.createElement("div",null,r.a.createElement("h1",null,"Weather"),r.a.createElement("form",{onSubmit:this.fetchData},r.a.createElement("label",null,"City, Country",r.a.createElement("input",{placeholder:"City, Country",type:"text",value:this.props.redux.get("location"),onChange:this.changeLocation}))),this.props.redux.getIn(["data","list"])?r.a.createElement("center",{className:"plot"},this.props.redux.getIn(["selected","temp"])?r.a.createElement("p",null,"The temperature on"," ",this.props.redux.getIn(["selected","date"])," will be"," ",this.props.redux.getIn(["selected","temp"]),"\xb0C"):r.a.createElement("p",null,"The current temperature is ",e,"\xb0C!"),r.a.createElement("h2",null,"Forecast"),r.a.createElement(E.a,{data:[{x:this.props.redux.get("dates").toJS(),y:this.props.redux.get("temps").toJS(),type:"scatter"}],config:{displayModeBar:!1},onClick:this.onPlotClick,layout:{margin:{t:0,r:0,l:30},xaxis:{gridcolor:"transparent"}}})):null)}}]),n}(r.a.Component);var b=Object(i.b)((function(e){return{redux:e}}))(C),v=n(2),x=Object(h.a)({location:"",data:{},dates:[],temps:[],selected:{date:"",temp:null}});var _=n(16),O=Object(v.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LOCATION":return e.set("location",t.location);case"SET_DATA":return e.set("data",Object(h.a)(t.data));case"SET_DATES":return e.set("dates",Object(h.a)(t.dates));case"SET_TEMPS":return e.set("temps",Object(h.a)(t.temps));case"SET_SELECTED_DATE":return e.setIn(["selected","date"],t.date);case"SET_SELECTED_TEMP":return e.setIn(["selected","temp"],t.temp);default:return e}}),Object(v.a)(_.a));o.a.render(r.a.createElement(i.a,{store:O},r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null))),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.a32159f3.chunk.js.map